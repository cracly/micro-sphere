(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{21272:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var a=r(95155),i=r(12115),n=r(52596),l=r(39688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,n.$)(t))}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:s("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}var d=r(54624);let c=(0,r(74466).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{className:t,variant:r,size:i,asChild:n=!1,...l}=e,o=n?d.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:s(c({variant:r,size:i,className:t})),...l})}var m=r(62098),x=r(50589),f=r(26386),h=r(44210),v=r(7574);function p(e){return null==e||isNaN(e)?"--\xb0C":"".concat(Math.round(e),"\xb0C")}function g(e,t){let r=new Date(e);return"full"===t?r.toLocaleString():"date"===t?r.toLocaleDateString():"day"===t?r.toLocaleDateString(void 0,{weekday:"long"}):"time"===t?r.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):r.toString()}var y=r(83540),b=r(5002),j=r(94754),k=r(96025),N=r(16238),w=r(45164),S=r(70919),_=r(94517),D=r(24026),z=r(62341),C=r(83394),A=r(21374);let L=e=>{let{hourly:t,daily:r,type:i,selectedDay:n}=e,l=[];if("hourly"===i){let e=n||new Date().toISOString().slice(0,10);l=t.filter(t=>"string"==typeof t.time&&t.time.startsWith(e)).map(e=>({time:"string"==typeof e.time?g(e.time,"time"):"",rawTime:e.time,temperature:e.temperature,rain:e.rain,cloud_cover:e.cloud_cover,wind:e.wind&&"object"==typeof e.wind&&null!==e.wind?e.wind.speed:void 0}))}else l=(null==r?void 0:r.map(e=>({time:"string"==typeof e.date?g(e.date,"day"):"",temperature:e.temperature&&"object"==typeof e.temperature&&null!==e.temperature?e.temperature.max:void 0,rain:e.precipitation_sum,cloud_cover:void 0,wind:void 0})))||[];let s=-1,d=-1,c=-1;if("hourly"===i&&l.length>0){let e=new Date;for(let t=0;t<l.length;t++){let r=l[t].rawTime;0===t&&(s=t),d=t,Number(r.slice(11,13))===e.getHours()&&(c=t)}}return(0,a.jsxs)(o,{className:"p-4 bg-white/80 dark:bg-neutral-800/80 shadow-lg",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2 text-lg text-neutral-800 dark:text-neutral-100",children:"hourly"===i?"Hourly Forecast":"Daily Forecast"}),(0,a.jsx)(y.u,{width:"100%",height:320,children:(0,a.jsxs)(b.X,{data:l,margin:{top:48,right:30,left:0,bottom:0},children:[(0,a.jsx)(j.d,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,a.jsx)(k.W,{dataKey:"time",tick:{fontSize:12}}),(0,a.jsx)(N.h,{yAxisId:"left",tick:{fontSize:12},domain:["auto","auto"]}),(0,a.jsx)(N.h,{yAxisId:"right",orientation:"right",tick:{fontSize:12},domain:[0,"auto"]}),"hourly"===i&&-1!==s&&-1!==d&&(0,a.jsx)(w.T,{x1:l[s].time,x2:l[d].time,strokeOpacity:0,fill:"#fbbf24",fillOpacity:.08}),"hourly"===i&&-1!==c&&(0,a.jsx)(S.e,{x:l[c].time,yAxisId:"left",stroke:"#f59e42",strokeWidth:4,strokeDasharray:"6 2",label:{value:"Now",position:"top",fill:"#f59e42",fontSize:18,fontWeight:"bold",dy:-8}}),(0,a.jsx)(_.m,{contentStyle:{background:"#18181b",color:"#fff",borderRadius:8},labelStyle:{color:"#fff"}}),(0,a.jsx)(D.s,{}),(0,a.jsx)(z.G,{yAxisId:"left",type:"monotone",dataKey:"temperature",name:"Temperature (\xb0C)",fill:"#60a5fa",stroke:"#2563eb",fillOpacity:.2,activeDot:{r:6}}),(0,a.jsx)(C.y,{yAxisId:"right",dataKey:"rain",name:"Rain (mm)",fill:"#38bdf8",barSize:"hourly"===i?8:24}),"hourly"===i&&(0,a.jsx)(A.N,{yAxisId:"left",type:"monotone",dataKey:"cloud_cover",name:"Cloud Cover (%)",stroke:"#a3a3a3",strokeDasharray:"5 5",dot:!1}),"hourly"===i&&(0,a.jsx)(A.N,{yAxisId:"left",type:"monotone",dataKey:"wind",name:"Wind (km/h)",stroke:"#fbbf24",dot:!1})]})})]})},W=e=>{let{type:t,size:r=64}=e;switch(t){case"sunny":return(0,a.jsx)(m.A,{size:r,stroke:"#fbbf24",fill:"#ffe066"});case"cloudy":default:return(0,a.jsx)(x.A,{size:r,stroke:"#cbd5e1",fill:"#cbd5e1"});case"rain":return(0,a.jsx)(f.A,{size:r,stroke:"#60a5fa",fill:"#cbd5e1"});case"thunderstorm":return(0,a.jsx)(h.A,{size:r,stroke:"#facc15",fill:"#cbd5e1"});case"windy":return(0,a.jsx)(v.A,{size:r,stroke:"#38bdf8"})}},E=()=>{var e,t,r,n,l,s;let[d,c]=(0,i.useState)(null),[m,x]=(0,i.useState)(null),[f,h]=(0,i.useState)("hourly"),[v,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)(!1),[k,N]=(0,i.useState)(()=>new Date().toISOString().slice(0,10));if((0,i.useEffect)(()=>{fetch("/backend/data/latest_weather.json").then(e=>{if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return e.json()}).then(c).catch(()=>x("Failed to load weather data. Please try again later."))},[]),(0,i.useEffect)(()=>{v?document.body.classList.add("dark"):document.body.classList.remove("dark")},[v]),m)return(0,a.jsx)(o,{className:"p-6 my-8 text-center bg-destructive/10 border-destructive text-destructive",children:m});if(!d)return(0,a.jsx)(o,{className:"p-6 my-8 text-center",children:"Loading weather data..."});let{last_updated:w,current_weather:S,hourly_forecast:_,daily_forecast:D}=d,z=null==(e=S.cloud_cover)?void 0:e.value,C=null==(t=S.precipitation)?void 0:t.value,A=null==(r=S.temperature)?void 0:r.value,E=null==(n=S.temperature)?void 0:n.feels_like,I=null==(l=S.precipitation)?void 0:l.unit,O=S.wind,T=null==O?void 0:O.speed,K=null==O?void 0:O.direction,P=null==O?void 0:O.unit,F=null==O?void 0:O.gusts,H=null==(s=S.cloud_cover)?void 0:s.unit,G=function(e,t){return t&&t>1?"fas fa-cloud-rain":t&&t>0?"fas fa-cloud-sun-rain":e&&e>60?"fas fa-cloud":e&&e>20?"fas fa-cloud-sun":"fas fa-sun"}(z,C),M=function(e){var t,r,a,i;if(!e)return"default";let n=null!=(a=null==(t=e.precipitation)?void 0:t.value)?a:0,l=null!=(i=null==(r=e.cloud_cover)?void 0:r.value)?i:0;return n>10?"thunderstorm":n>1?"rain":l>80?"cloudy":l<30?"sunny":"default"}(null==d?void 0:d.current_weather),R=Array.from(new Set(_.map(e=>"string"==typeof e.time?e.time.slice(0,10):void 0).filter(e=>!!e))),X=R.indexOf(k),Q=X>0,V=X<R.length-1;return(0,a.jsx)("div",{className:"relative min-h-screen bg-neutral-50 dark:bg-neutral-900 transition-colors duration-500 overflow-hidden",children:(0,a.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto py-8 px-2",children:[(0,a.jsxs)("header",{className:"flex flex-col items-center gap-2 py-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight drop-shadow-lg text-neutral-900 dark:text-neutral-100",children:"Detailed Weather Kledering"}),(0,a.jsxs)("p",{className:"text-xs text-gray",children:["Last updated: ",g(w,"full")]}),(0,a.jsx)("div",{className:"flex gap-2 mt-2",children:(0,a.jsx)(u,{variant:"outline",onClick:()=>y(e=>!e),children:v?"☀️ Light":"\uD83C\uDF19 Dark"})})]}),(0,a.jsxs)("main",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"text-center mb-2",children:(0,a.jsxs)("h2",{className:"text-xl font-semibold text-neutral-700 dark:text-neutral-200",children:["Today –"," ",new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),(0,a.jsxs)(o,{className:"p-8 flex flex-col md:flex-row items-center justify-between gap-8 shadow-xl bg-white/40 dark:bg-neutral-800/40 backdrop-blur-md border border-white/30 dark:border-neutral-700/40",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("i",{className:"text-7xl ".concat(G)}),(0,a.jsxs)("span",{className:"flex items-center gap-3 text-5xl font-bold text-neutral-900 dark:text-neutral-100",children:[p(A),(0,a.jsx)(W,{type:M,size:48})]}),(0,a.jsxs)("span",{className:"text-muted-foreground text-lg",children:["Feels like"," ",p(E)]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-base",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Precipitation:"})," ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mm";return null==e||isNaN(e)?"--":"".concat(e," ").concat(t)}(C,I)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wind:"})," ",function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"km/h";return null==e||isNaN(e)?"--":"".concat(e," ").concat(r)}(T,K,P)]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Gusts:"})," ",null!=F?F:"--"," ",null!=P?P:"km/h"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Direction:"})," ",function(e){return null==e||isNaN(e)?"--":["N","NE","E","SE","S","SW","W","NW"][Math.round(e%360/45)%8]}(K)," (",null!=K?K:"--","\xb0)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Cloud Cover:"})," ",null!=z?z:"--",null!=H?H:"%"]})]})]})]}),(0,a.jsxs)("section",{className:"mt-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u,{variant:"hourly"===f?"default":"outline",onClick:()=>h("hourly"),children:"Hourly"}),(0,a.jsx)(u,{variant:"daily"===f?"default":"outline",onClick:()=>h("daily"),children:"Daily"})]}),(0,a.jsx)(u,{variant:"secondary",onClick:()=>j(e=>!e),children:b?"Show Graph":"Simplify"})]}),"hourly"===f&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>Q&&N(R[X-1]),disabled:!Q,"aria-label":"Previous day",children:"←"}),(0,a.jsx)("span",{className:"font-semibold text-base",children:k&&new Date(k).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"})}),(0,a.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>V&&N(R[X+1]),disabled:!V,"aria-label":"Next day",children:"→"})]}),b?(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto py-2",children:("hourly"===f?_.filter(e=>"string"==typeof e.time&&e.time.startsWith(k)):D||[]).map((e,t)=>(0,a.jsxs)(o,{className:"min-w-[120px] flex-shrink-0 p-3 flex flex-col items-center bg-white/80 dark:bg-neutral-800/80 border border-neutral-200 dark:border-neutral-700",children:[(0,a.jsx)("div",{className:"font-semibold text-base",children:"hourly"===f?g("string"==typeof e.time?e.time:"","time"):g("string"==typeof e.date?e.date:"string"==typeof e.time?e.time:"","day")}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:"hourly"===f?p("number"==typeof e.temperature?e.temperature:e.temperature&&"object"==typeof e.temperature&&"value"in e.temperature?e.temperature.value:void 0):p(e.temperature&&"object"==typeof e.temperature&&"max"in e.temperature?e.temperature.max:void 0)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:void 0!==e.rain?"".concat(e.rain," mm"):void 0!==e.precipitation_sum?"".concat(e.precipitation_sum," mm"):""}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:void 0!==e.cloud_cover?"".concat(e.cloud_cover,"% clouds"):""})]},t))}):(0,a.jsx)(L,{hourly:_,daily:D,type:f,selectedDay:"hourly"===f?k:void 0})]}),(0,a.jsxs)("footer",{className:"text-center text-xs text-muted-foreground py-4",children:["Data provided by"," ",(0,a.jsx)("a",{href:"https://open-meteo.com/",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"Open-Meteo"})]})]})})}},66286:(e,t,r)=>{Promise.resolve().then(r.bind(r,21272))}},e=>{var t=t=>e(e.s=t);e.O(0,[217,441,684,358],()=>t(66286)),_N_E=e.O()}]);